{% extends 'Carrito_app/base.html' %}
{% load static %}

{% block title %}{{ paquete.nombre }} - Ailes Du Monde{% endblock %}

{% block content %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />
<style>
  .package-detail-container {
    background-color: #f8f9fa;
    border-radius: 15px;
    padding: 2rem;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
  }

  .package-image {
    width: 100%;
    height: auto;
    border-radius: 10px;
    margin-bottom: 1.5rem;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  }

  .package-title {
    font-size: 2.8rem;
    font-weight: 700;
    color: #343a40;
    margin-bottom: 1rem;
    position: relative;
    padding-bottom: 0.5rem;
  }

  .package-title::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 60px;
    height: 4px;
    background-color: #007bff;
  }

  .package-destination {
    font-size: 1.3rem;
    color: #6c757d;
    margin-bottom: 1.5rem;
  }

  .package-description {
    font-size: 1.1rem;
    line-height: 1.7;
    color: #495057;
    margin-bottom: 2rem;
  }

  .package-price {
    font-size: 2.5rem;
    font-weight: 700;
    color: #28a745;
    margin-bottom: 0.5rem;
  }

  .sale-badge {
    font-size: 1rem;
    font-weight: 600;
    color: #fff;
    background-color: #dc3545;
    padding: 0.4em 0.8em;
    border-radius: 5px;
    margin-left: 10px;
  }

  .add-to-cart-btn {
    font-size: 1.2rem;
    font-weight: 600;
    padding: 0.8rem 2rem;
    border-radius: 8px;
    transition: all 0.3s ease;
  }

  .details-card {
    background-color: #fff;
    border-radius: 10px;
    padding: 1.5rem;
    margin-top: 2rem;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
  }

  .details-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: #343a40;
    margin-bottom: 1rem;
  }

  .details-list {
    list-style: none;
    padding: 0;
  }

  .details-list li {
    font-size: 1.1rem;
    color: #495057;
    margin-bottom: 0.5rem;
    display: flex;
    align-items: center;
  }

  .details-list i {
    color: #007bff;
    margin-right: 10px;
  }
</style>

<div class="container my-5">
  <div class="package-detail-container">
    <div class="row">
      <div class="col-lg-6">
        <img src="{% if paquete.imagen %}{{ paquete.imagen.url }}{% else %}{% static 'Carrito_app/img/default_package.jpg' %}{% endif %}" class="package-image" alt="{{ paquete.nombre }}">
      </div>
      <div class="col-lg-6">
        <h1 class="package-title">{{ paquete.nombre }}</h1>
        <p class="package-destination">
          <i class="fas fa-map-marker-alt"></i> {{ paquete.destino.nombre }}
        </p>
        <p class="package-description">{{ paquete.descripcion }}</p>

        <div class="d-flex align-items-center mb-4">
          <p class="package-price">${{ paquete.precio|floatformat:2 }}</p>
          {% if paquete.oferta %}
            <span class="sale-badge">Oferta</span>
          {% endif %}
        </div>

        <form action="{% url 'add_to_cart' paquete.id %}" method="post">
          {% csrf_token %}
          <button type="submit" class="btn btn-primary btn-lg add-to-cart-btn">
            <i class="fas fa-shopping-cart"></i> Añadir al Carrito
          </button>
        </form>
      </div>
    </div>

    <div class="details-card">
      <h3 class="details-title">Detalles del Paquete</h3>
      <ul class="details-list">
        <li><i class="fas fa-clock"></i> <strong>Duración:</strong> {{ paquete.duracion }} días</li>
        <li><i class="fas fa-calendar-alt"></i> <strong>Disponibilidad:</strong> {{ paquete.fecha_salida|date:"d/m/Y" }} - {{ paquete.fecha_regreso|date:"d/m/Y" }}</li>
        <li><i class="fas fa-users"></i> <strong>Capacidad:</strong> {{ paquete.capacidad }} personas</li>
        <li>
          <i class="fas fa-concierge-bell"></i> 
          <strong>Servicios Incluidos:</strong>
          <ul>
            {% for servicio in paquete.servicios.all %}
              <li>{{ servicio.nombre }}</li>
            {% endfor %}
          </ul>
        </li>
        <li>
          <i class="fas fa-hiking"></i>
          <strong>Actividades:</strong>
          <ul>
            {% for actividad in paquete.actividades.all %}
              <li>{{ actividad.nombre }}</li>
            {% endfor %}
          </ul>
        </li>
      </ul>
    </div>
  </div>
</div>
{% endblock %}
