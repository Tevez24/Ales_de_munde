{% extends 'Carrito_app/base.html' %}
{% load static %}

{% block title %}{{ alquiler.nombre }} - Ailes du Monde{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-b from-sky-50 via-white to-teal-50 py-20">

  <!-- CONTENEDOR PRINCIPAL -->
  <div class="container mx-auto px-6 lg:px-12">

    <!-- HERO -->
    <div class="relative h-[480px] rounded-3xl overflow-hidden shadow-2xl mb-12">
      {% if alquiler.imagen %}
      <img src="{{ alquiler.imagen.url }}" alt="{{ alquiler.nombre }}" class="w-full h-full object-cover transition-transform duration-700 hover:scale-105">
      {% else %}
      <img src="{% static 'Carrito_app/img/default-rental.jpg' %}" alt="{{ alquiler.nombre }}" class="w-full h-full object-cover">
      {% endif %}
      <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"></div>
      <div class="absolute bottom-8 left-10 text-white">
        <h1 class="text-5xl font-extrabold drop-shadow-lg">{{ alquiler.nombre }}</h1>
        <p class="text-xl opacity-90 mt-1">{{ alquiler.tipo }}</p>
      </div>
    </div>

    <!-- CONTENIDO PRINCIPAL -->
    <div class="grid md:grid-cols-3 gap-10 items-start">
      
      <!-- INFORMACI√ìN DEL VEH√çCULO -->
      <div class="md:col-span-2 bg-white/95 backdrop-blur-sm rounded-3xl shadow-xl p-10">
        <h2 class="text-3xl font-bold text-slate-800 mb-6 border-b pb-3">üöò Detalles del Veh√≠culo</h2>

        <div class="grid sm:grid-cols-2 gap-6 mb-6 text-gray-700">
          <div class="flex items-center"><i data-lucide="calendar" class="h-5 w-5 text-teal-600 mr-2"></i> A√±o: {{ alquiler.anio }}</div>
          <div class="flex items-center"><i data-lucide="users" class="h-5 w-5 text-teal-600 mr-2"></i> Capacidad: {{ alquiler.capacidad }} personas</div>
          <div class="flex items-center"><i data-lucide="fuel" class="h-5 w-5 text-teal-600 mr-2"></i> Combustible: {{ alquiler.combustible }}</div>
          <div class="flex items-center"><i data-lucide="settings" class="h-5 w-5 text-teal-600 mr-2"></i> Transmisi√≥n: {{ alquiler.transmision }}</div>
        </div>

        <div>
          <h3 class="text-2xl font-semibold text-slate-800 mb-2">üìù Descripci√≥n</h3>
          <p class="text-gray-600 leading-relaxed">{{ alquiler.descripcion|linebreaks }}</p>
        </div>

        <!-- CARACTER√çSTICAS -->
        <div class="mt-12">
          <h2 class="text-2xl font-bold text-slate-800 mb-4">‚≠ê Caracter√≠sticas Destacadas</h2>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-5">
            {% for caracteristica in alquiler.caracteristicas %}
            <div class="bg-teal-50 p-4 rounded-xl shadow-sm text-center hover:bg-teal-100 transition-colors">
              <i data-lucide="{{ caracteristica.icono }}" class="h-6 w-6 text-teal-700 mb-2"></i>
              <p class="font-medium text-gray-700">{{ caracteristica.nombre }}</p>
            </div>
            {% empty %}
            <p class="col-span-4 text-gray-500 text-center">No se registraron caracter√≠sticas espec√≠ficas.</p>
            {% endfor %}
          </div>
        </div>

        <!-- POL√çTICAS -->
        <div class="mt-12">
          <h2 class="text-2xl font-bold text-slate-800 mb-4">üìã Pol√≠ticas de Alquiler</h2>
          <div class="grid md:grid-cols-2 gap-8 text-gray-700">
            <div>
              <h3 class="font-semibold mb-3">Requisitos</h3>
              <ul class="space-y-2">
                <li class="flex items-center"><i data-lucide="check" class="h-5 w-5 text-green-600 mr-2"></i> Mayor de 21 a√±os</li>
                <li class="flex items-center"><i data-lucide="check" class="h-5 w-5 text-green-600 mr-2"></i> Licencia vigente</li>
                <li class="flex items-center"><i data-lucide="check" class="h-5 w-5 text-green-600 mr-2"></i> Tarjeta de cr√©dito a nombre del conductor</li>
              </ul>
            </div>
            <div>
              <h3 class="font-semibold mb-3">Pol√≠tica de Combustible</h3>
              <p class="text-gray-600">El veh√≠culo se entrega con el tanque lleno y debe devolverse en las mismas condiciones.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- TARJETA DE RESERVA -->
      <div class="bg-white rounded-3xl shadow-xl p-8 sticky top-24 hover:shadow-2xl transition-shadow">
        <h3 class="text-3xl font-extrabold text-emerald-600 mb-1">${{ alquiler.precio_dia }} / d√≠a</h3>
        <p class="text-gray-500 mb-6">Incluye seguro b√°sico y asistencia 24/7</p>

        <div class="bg-emerald-50 rounded-xl p-4 mb-6">
          <h4 class="font-semibold text-emerald-700 mb-2">Incluye:</h4>
          <ul class="space-y-1 text-gray-700">
            <li><i data-lucide="check-circle" class="inline h-5 w-5 text-emerald-500 mr-1"></i>Seguro contra da√±os</li>
            <li><i data-lucide="check-circle" class="inline h-5 w-5 text-emerald-500 mr-1"></i>Asistencia 24/7</li>
            <li><i data-lucide="check-circle" class="inline h-5 w-5 text-emerald-500 mr-1"></i>Kilometraje ilimitado</li>
          </ul>
        </div>

        <!-- FORMULARIO -->
        <form class="space-y-4">
          <div>
            <label class="block text-sm font-semibold text-gray-700 mb-1">Fecha de Retiro</label>
            <input type="date" class="w-full border border-gray-300 rounded-lg py-2 px-3 focus:ring-2 focus:ring-teal-500 outline-none">
          </div>
          <div>
            <label class="block text-sm font-semibold text-gray-700 mb-1">Fecha de Devoluci√≥n</label>
            <input type="date" class="w-full border border-gray-300 rounded-lg py-2 px-3 focus:ring-2 focus:ring-teal-500 outline-none">
          </div>
          <button type="submit" class="w-full bg-gradient-to-r from-teal-500 to-emerald-500 text-white py-3 rounded-xl font-semibold hover:scale-105 shadow-md hover:shadow-lg transition-all duration-300">
            Reservar Ahora
          </button>
          <a href="{% url 'alquileres' %}" class="block text-center text-gray-600 mt-3 hover:text-teal-600 transition">‚Üê Volver</a>
        </form>
      </div>
    </div>
  </div>
</div>

{% block extra_js %}
<script>
  if (window.lucide) {
    lucide.createIcons();
  }
</script>
{% endblock %}
{% endblock %}
